# Лабораторная работа №1: Система управления геометрическими фигурами

## Описание проекта

Проект представляет собой консольное приложение для управления коллекцией геометрических фигур. Система поддерживает три типа фигур: круги, прямоугольники и треугольники, и предоставляет функционал для их добавления, отображения, сортировки и удаления.

## Функциональность

### Поддерживаемые фигуры:
- **Круг** - задается центром и радиусом
- **Прямоугольник** - задается верхней левой и нижней правой точками  
- **Треугольник** - задается тремя вершинами

### Основные операции:
- **Добавление фигур** - интерактивный ввод параметров
- **Просмотр фигур** - вывод списка всех фигур
- **Вычисление площадей** - отображение площадей всех фигур
- **Суммарная площадь** - вычисление общей площади всех фигур
- **Сортировка** - сортировка фигур по площади
- **Удаление** - удаление по номеру или по площади

## Структура проекта
```
OOP_lab1/
├── core/ # Основные классы фигур
│ ├── figure.h/cpp # Базовый класс Figure
│ ├── circle.h/cpp # Класс Circle
│ ├── rectangle.h/cpp # Класс Rectangle
│ └── triangle.h/cpp # Класс Triangle
├── collection/ # Управление коллекцией
│ ├── figurecollection.h/cpp # Коллекция фигур
│ └── menucommands.h/cpp # Команды меню
├── OOP_lab1.pro # Файл проекта
└── main.cpp # Точка входа
```

## Ключевые компоненты

### Иерархия классов:
```cpp
Figure (базовый класс)
  ├── Circle
  ├── Rectangle
  └── Triangle
Класс FigureCollection:
cpp
class FigureCollection {
    std::vector<FigureVariant> figures; // std::variant для хранения разных типов
    
    void addFigure(const FigureVariant& figure);
    void printFigures() const;
    void printAreas() const;
    double sumArea() const;
    void sortByArea();
    void removeFigure(size_t index);
    void removeFiguresByArea(double area);
};
```
## Главное меню:
```text
1. Добавить круг
2. Добавить прямоугольник  
3. Добавить треугольник
4. Вывести список фигур
5. Вывести список площадей
6. Вывести суммарную площадь
7. Отсортировать фигуры по площади
8. Удалить фигуру по номеру
9. Удалить фигуры, у которых площадь больше заданной
0. Выход
```
## Математические вычисления
Площади фигур:
- Круг: π * r²
- Прямоугольник: (x2 - x1) * (y1 - y2)
- Треугольник: Формула площади по координатам вершин

### Валидация данных:
- Проверка корректности координат
- Проверка существования треугольников
- Проверка положительности размеров

### Особенности реализации
- Паттерны проектирования:
- Strategy Pattern - для команд меню
- Variant Pattern - для хранения разных типов фигур
- RAII - управление ресурсами

### Безопасность:
- Валидация ввода пользователя
- Обработка исключений
- Защита от некорректных данных

### Интерфейс:
- Локализация на русский язык
- Интуитивное управление
- Подробные сообщения об ошибках

### Требования:
- C++17 или новее
- Поддержка std::variant (C++17)
- Поддержка std::filesystem (опционально)

## Сборка и запуск:
Сборка с помощью qmake:
```bash
qmake OOP_lab1.pro
make
./OOP_lab1
```
## Прямая компиляция:
```bash
g++ -std=c++17 -I. main.cpp figure.cpp circle.cpp rectangle.cpp triangle.cpp figurecollection.cpp menucommands.cpp -o geometry_app
```
## Примеры использования:
- Добавление круга:
```text
Введите имя: Circle1
Введите центр X: 0
Введите центр Y: 0  
Введите радиус: 5
```
- Добавление прямоугольника:
```text
Введите имя: Rect1
Введите верхняя левая X: 0
Введите верхняя-левая Y: 10
Введите нижняя-правая X: 5
Введите нижняя-правая Y: 0
```
- Добавление треугольника:
```text
Введите имя: Triangle1
Введите x1: 0
Введите y1: 0
Введите x2: 3
Введите y2: 0  
Введите x3: 0
Введите y3: 4
```
## Обработка ошибок:
### Приложение обрабатывает следующие ошибки:
- Некорректный ввод чисел
- Неверные геометрические параметры
- Выход за границы коллекции
- Ошибки валидации фигур
